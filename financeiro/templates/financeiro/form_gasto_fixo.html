{% extends 'core/base.html' %}
{% load widget_tweaks %}

{% block content_title %}
  {% if gasto %}Editar Gasto Fixo: {{ gasto.descricao }}{% else %}Criar Gasto Fixo{% endif %}
{% endblock %}

{% block content %}
<div class="container-fluid" style="width: 100%; padding-right: 0">
  <div class="card border-0 shadow-sm" style="border-radius: 0">
    <div
      class="card-header bg-gradient d-flex justify-content-between align-items-center"
      style="
        background: linear-gradient(45deg, #dc3545, #e4606d);
        border-top-left-radius: 0;
        border-top-right-radius: 0;
      "
    >
      <h5
        class="text-white m-0"
        style="
          font-size: 1.3rem;
          font-weight: 600;
          display: flex;
          align-items: center;
        "
      >
        <i class="bi bi-{% if gasto %}pencil{% else %}plus{% endif %} me-2"></i>
        {% if gasto %}Editar Gasto{% else %}Criar Gasto Fixo{% endif %}
      </h5>
      <a
        href="{% url 'financeiro:dashboard_financeiro' %}"
        class="btn btn-light btn-sm"
        style="color: #000; transition: all 0.3s ease"
      >
        <i class="bi bi-arrow-left"></i> Voltar
      </a>
    </div>
    <div
      class="card-body p-4"
      style="
        background: #fff;
        border-bottom-left-radius: 0;
        border-bottom-right-radius: 0;
      "
    >
      {% if messages %}
      <div
        class="alert alert-{{ message.tags }} alert-dismissible fade show mb-4"
        role="alert"
        style="
          color: #000;
          border-radius: 0;
          font-size: 1rem;
          font-weight: 400;
        "
      >
        {% for message in messages %} {{ message }} {% endfor %}
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="alert"
          aria-label="Close"
        ></button>
      </div>
      {% endif %}
      <form method="post">
        {% csrf_token %}
        <div class="mb-3">
          <label for="{{ form.descricao.id_for_label }}" class="form-label" style="font-weight: 500;">Descrição</label>
          {{ form.descricao|add_class:"form-control" }}
        </div>
        <div class="mb-3">
          <label for="{{ form.valor.id_for_label }}" class="form-label" style="font-weight: 500;">Valor (R$)</label>
          {{ form.valor|add_class:"form-control" }}
        </div>
        <div class="mb-3">
          <label for="{{ form.dia_pagamento.id_for_label }}" class="form-label" style="font-weight: 500;">Dia de Pagamento</label>
          {{ form.dia_pagamento|add_class:"form-control" }}
        </div>
        <button type="submit" class="btn btn-primary rounded-0" style="background: #dc3545; border: none; color: #fff; padding: 10px 20px; transition: all 0.3s ease;">
          <i class="bi bi-{% if gasto %}save{% else %}plus{% endif %}"></i>
          {% if gasto %}Salvar Alterações{% else %}Criar Gasto{% endif %}
        </button>
      </form>
    </div>
  </div>
</div>
{% endblock %}